{"ast":null,"code":"import { ADD_COLOR, REMOVE_COLOR, RATE_COLOR, SORT_COLORS } from './constants';\nimport { v4 } from 'uuid';\nimport fetch from 'isomorphic-fetch';\n\nconst parseResponse = response => response.json();\n\nconst logError = error => console.error(error);\n\nconst fetchThenDispatch = (dispatch, url, method, body) => fetch(url, {\n  method,\n  body,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n}).then(parseResponse).then(dispatch).catch(logError);\n\nexport const addColor = (title, color) => dispatch => fetchThenDispatch(dispatch, '/api/colors', 'POST', JSON.stringify({\n  title,\n  color\n}));\nexport const removeColor = id => dispatch => fetchThenDispatch(dispatch, \"/api/color/\".concat(id), 'DELETE');\nexport const rateColor = (id, rating) => dispatch => fetchThenDispatch(dispatch, \"/api/color/\".concat(id), 'PUT', JSON.stringify({\n  rating\n}));\nexport const sortColors = sortedBy => sortedBy === \"rating\" ? {\n  type: SORT_COLORS,\n  sortBy: \"SORTED_BY_RATING\"\n} : sortedBy === \"title\" ? {\n  type: SORT_COLORS,\n  sortBy: \"SORTED_BY_TITLE\"\n} : {\n  type: SORT_COLORS,\n  sortBy: \"SORTED_BY_DATE\"\n};","map":{"version":3,"sources":["/Users/Antoine/Developer/Code/React-js/Learning-React/Chapter-12/Color-Organizer/src/actions/index.js"],"names":["ADD_COLOR","REMOVE_COLOR","RATE_COLOR","SORT_COLORS","v4","fetch","parseResponse","response","json","logError","error","console","fetchThenDispatch","dispatch","url","method","body","headers","then","catch","addColor","title","color","JSON","stringify","removeColor","id","rateColor","rating","sortColors","sortedBy","type","sortBy"],"mappings":"AACA,SAASA,SAAT,EAAoBC,YAApB,EAAkCC,UAAlC,EAA8CC,WAA9C,QAAiE,aAAjE;AACA,SAASC,EAAT,QAAmB,MAAnB;AAEA,OAAOC,KAAP,MAAkB,kBAAlB;;AAEA,MAAMC,aAAa,GAAGC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EAAlC;;AAEA,MAAMC,QAAQ,GAAGC,KAAK,IAAIC,OAAO,CAACD,KAAR,CAAcA,KAAd,CAA1B;;AAEA,MAAME,iBAAiB,GAAG,CAACC,QAAD,EAAWC,GAAX,EAAgBC,MAAhB,EAAwBC,IAAxB,KACtBX,KAAK,CAACS,GAAD,EAAM;AAACC,EAAAA,MAAD;AAASC,EAAAA,IAAT;AAAeC,EAAAA,OAAO,EAAE;AAAE,oBAAgB;AAAlB;AAAxB,CAAN,CAAL,CACKC,IADL,CACUZ,aADV,EAEKY,IAFL,CAEUL,QAFV,EAGKM,KAHL,CAGWV,QAHX,CADJ;;AAMA,OAAO,MAAMW,QAAQ,GAAG,CAACC,KAAD,EAAQC,KAAR,KAAkBT,QAAQ,IAC9CD,iBAAiB,CACbC,QADa,EAEb,aAFa,EAGb,MAHa,EAIbU,IAAI,CAACC,SAAL,CAAe;AAACH,EAAAA,KAAD;AAAQC,EAAAA;AAAR,CAAf,CAJa,CADd;AAQP,OAAO,MAAMG,WAAW,GAAGC,EAAE,IAAIb,QAAQ,IACrCD,iBAAiB,CACbC,QADa,uBAECa,EAFD,GAGb,QAHa,CADd;AAOP,OAAO,MAAMC,SAAS,GAAG,CAACD,EAAD,EAAKE,MAAL,KAAgBf,QAAQ,IAC7CD,iBAAiB,CACbC,QADa,uBAECa,EAFD,GAGb,KAHa,EAIbH,IAAI,CAACC,SAAL,CAAe;AAACI,EAAAA;AAAD,CAAf,CAJa,CADd;AAQP,OAAO,MAAMC,UAAU,GAAGC,QAAQ,IAC7BA,QAAQ,KAAK,QAAd,GACK;AACGC,EAAAA,IAAI,EAAE5B,WADT;AAEG6B,EAAAA,MAAM,EAAE;AAFX,CADL,GAKKF,QAAQ,KAAK,OAAd,GACK;AACGC,EAAAA,IAAI,EAAE5B,WADT;AAEG6B,EAAAA,MAAM,EAAE;AAFX,CADL,GAKK;AACGD,EAAAA,IAAI,EAAE5B,WADT;AAEG6B,EAAAA,MAAM,EAAE;AAFX,CAXN","sourcesContent":["\nimport { ADD_COLOR, REMOVE_COLOR, RATE_COLOR, SORT_COLORS } from './constants'\nimport { v4 } from 'uuid'\n\nimport fetch from 'isomorphic-fetch'\n\nconst parseResponse = response => response.json()\n\nconst logError = error => console.error(error)\n\nconst fetchThenDispatch = (dispatch, url, method, body) =>\n    fetch(url, {method, body, headers: { 'Content-Type': 'application/json' }})\n        .then(parseResponse)\n        .then(dispatch)\n        .catch(logError)\n\nexport const addColor = (title, color) => dispatch =>\n    fetchThenDispatch(\n        dispatch,\n        '/api/colors',\n        'POST',\n        JSON.stringify({title, color})\n    )\n\nexport const removeColor = id => dispatch =>\n    fetchThenDispatch(\n        dispatch,\n        `/api/color/${id}`,\n        'DELETE'\n    )\n\nexport const rateColor = (id, rating) => dispatch =>\n    fetchThenDispatch(\n        dispatch,\n        `/api/color/${id}`,\n        'PUT',\n        JSON.stringify({rating})\n    )\n\nexport const sortColors = sortedBy =>\n    (sortedBy === \"rating\") ?\n        ({\n            type: SORT_COLORS,\n            sortBy: \"SORTED_BY_RATING\"\n        }) :\n        (sortedBy === \"title\") ?\n            ({\n                type: SORT_COLORS,\n                sortBy: \"SORTED_BY_TITLE\"\n            }) :\n            ({\n                type: SORT_COLORS,\n                sortBy: \"SORTED_BY_DATE\"\n            })\n"]},"metadata":{},"sourceType":"module"}